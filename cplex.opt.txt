* ==========================================================================
* GAMS/Cplex Directives File
* ==========================================================================
*---------------------------------------------------------------------------*
* presolve reduce
* "0" no presolve
* "1" presolve (default)
*---------------------------------------------------------------------------*
presolve   1

*---------------------------------------------------------------------------*
* scaind
* The scaind option influences the scaling of the problem matrix. (default = 0)
* -1 No scaling
*  0 Standard scaling - An equilibrium scaling method is implemented which is
*    generally very effective.
*  1 Modified, more aggressive scaling method that can produce improvements on
*    some problems. This scaling should be used if the problem is observed to
*    have difficulty staying feasible during the solution process.
*---------------------------------------------------------------------------*
scaind 0 
                                                                    
*---------------------------------------------------------------------------*
* itlim 900000
itlim 400000
*---------------------------------------------------------------------------*

*---------------------------------------------------------------------------*
* activate RERUNning with Primal Simplex if presolve detects INF
*---------------------------------------------------------------------------*
RERUN YES
* infeas finder
  iis 1
* do if quick
*  iisind 0
* minimize the IIS candidates
* iisind 1

*---------------------------------------------------------------------------*
* Select Solution algorithm
*     - default is dual simplex
*   1 - activate primal simplex
*   4 - activate barrier interior point
*---------------------------------------------------------------------------*
*  lpmethod 1
  lpmethod 4
*---------------------------------------------------------------------------*
* Select Barrier Crossover Algorithm
*   -1 - No crossover (for testing)
*    0 - Automatic
*    1 - Primal
*    2 - Dual
*---------------------------------------------------------------------------*
  barcrossalg 0
*---------------------------------------------------------------------------*
* dump probem
*---------------------------------------------------------------------------*
* put it out column-wise in MPS format
*WRITEMPS test.mps
* row-wise representation
*WRITELP
*---------------------------------------------------------------------------*
* MIP solve criteria to optimal (default is GAMS OptCA/OptCR)
*---------------------------------------------------------------------------*
*  epagap 0
*  epgap  0
*---------------------------------------------------------------------------*
* Have MIP LP solve done using Barrier
*---------------------------------------------------------------------------*
  startalg 4

  quality 1

*  epmrk 0.001
*  epopt 0.0001
*  epper 0.0001
*  eprhs 0.0001
*  numericalemphasis 1

*---------------------------------------------------------------------------*
* Invoke parallel Barrier/MIP processing = n-1 CPUs, though even 2 for
* DUO, and run deterministic
*---------------------------------------------------------------------------*
  threads -1
*  barthreads 2
  parallelmode 1

 * workmem=2480
  
